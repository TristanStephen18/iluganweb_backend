<!DOCTYPE html>
<html>
  <head>
    <title>Send Mail</title>
    <script src="https://smtpjs.com/v3/smtp.js"></script>
  </head>

  <body>
    <form method="post">
      <input type="button" value="Send Email" onclick="sendEmail()" />
      <input type="button" value="Send Sms" onclick="sendsms()" />
    </form>

    <script type="text/javascript">
      function sendEmail() {
        Email.send({
          Host: "smtp.elasticemail.com",
          Username: "esupgaming101@gmail.com",
          Password: "2C05DCAD77AF2D730C6EF795347E797BB26F",
          To: "stephenrasco8@gmail.com",
          From: "esupgaming101@gmail.com",
          Subject: "Sending Email using javascript",
          Body: "Well that was easy!!",
        }).then(function (message) {
          alert("mail sent successfully");
        });
      }
      function sendsms() {
        const XMLHttpRequest = require("xmlhttprequest").XMLHttpRequest;

        const data = JSON.stringify({
          message: "Your verification code is 123",
          tpoa: "Sender",
          recipient: [
            {
              msisdn: "09287044227",
            },
          ],
        });

        const xhr = new XMLHttpRequest();
        xhr.withCredentials = true;

        xhr.addEventListener("readystatechange", function () {
          if (this.readyState === 4) {
            console.log(this.responseText);
          }
        });

        xhr.open("POST", "https://api.labsmobile.com/json/send");
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.setRequestHeader(
          "Authorization",
          "Basic " + Buffer.from("myUsername:myToken").toString("base64")
        );
        xhr.send(data);
      }
    </script>
  </body>
</html>
