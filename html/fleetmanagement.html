<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"
      integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy"
      crossorigin="anonymous"
    ></script>
    <title>Fleet Management</title>
    <link rel="stylesheet" href="../css/fleetm.css" />
  </head>
  <body>
    <a href="homepage.html">Home</a>
    <!-- <div id="markerInfoContainer" class="marker-info hidden">
      <h4>Marker Location</h4>
      <p id="markerLocation"></p>
      <button id="closeMarkerInfo">Close</button>
    </div> -->
    <div id="busInfoContainer" class="bus-info hidden">
      <h4>Bus info</h4>
      <div class="bus-details">
        <img src="../images/bus_icon.png" alt="Bus" class="bus-image">
        <div>
          <p>Bus Number: </p>
          <p style="font-weight: bold;font-size: 20px;" id="busNumber">Bus Number</p>
          <br>
          <p>Plate NUmber: </p>
          <p id="plateNumber">Plate Number</p>
        </div>
      </div>
    
      <div class="locations">
        <div>
          <p style="font-weight: bold;">Currently at: </p>
          <p id="currentLocation">2972 Westheimer</p>
        </div>
        <div>
          <p style="font-weight: bold;">Going to: </p>
          <p id="destination">8502 Preston</p>
        </div>
      </div>
    
      <div class="seats-info">
        <div class="seats">
          <p style="font-weight: bold;">Available seats</p>
          <p id="availableSeats">23</p>
        </div>
        <div class="seats reserved">
          <p style="font-weight: bold;">Reserved seats</p>
          <p id="reservedSeats">23</p>
        </div>
      </div>
    
      <div class="driver-info">
        <img src="../images/driver_icon.jfif" alt="Driver" class="driver-icon">
        <p id="driverName">Driver</p>
      </div>
    
      <div class="conductor-info">
        <img src="../images/conductor_icon.jpg" alt="Conductor" class="conductor-icon">
        <p id="conductorName">Conductor</p>
      </div>
    
      <button id="closeBusInfo">Close</button>
    </div>
    

    <div class="main-container">
      <div class="left-container">
        <h2>Fleet Vehicles</h2>
        <div id="map"></div>
      </div>
      
      <div class="right-container">
        <div class="status-card">
          <h4>Total Buses</h4>
          <div id="number_of_buses">50</div>
        </div>
        <div class="status-card">
          <h4>Moving Buses</h4>
          <div id="moving">25</div>
        </div>
        <div class="status-card">
          <h4>Park Buses</h4>
          <div id="parked_b">20</div>
        </div>
      </div>
    </div>

    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAIMuBkc8a_ciIOnIBA5n-3z5A85agZfQ0&callback=initMap&libraries=places&v=weekly"
      defer
    ></script>

    <script>
      let currentMarker = null;
      let map;
      let selectedLat = null;
      let selectedLng = null;

      function initMap() {
        map = new google.maps.Map(document.getElementById("map"), {
          center: { lat: 16.056575294903435, lng: 120.32326714096962 },
          zoom: 10,
        });

        map.addListener("click", (e) => {
          const position = {
            lat: e.latLng.lat(),
            lng: e.latLng.lng(),
          };

          selectedLat = e.latLng.lat();
          selectedLng = e.latLng.lng();
        });
      }
    </script>

    <script src="../scripts/fleetmanagement.js" type="module"></script>
  </body>
</html>
